<Window x:Class="TaskManagerApp.Views.CategoryManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="分类管理" Height="400" Width="300" WindowStartupLocation="CenterOwner">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10">
            <TextBox Text="{Binding NewCategoryName, UpdateSourceTrigger=PropertyChanged}" Width="150" Margin="0,0,10,0" />
            <Button Content="新增" Command="{Binding AddCategoryCommand}" Width="80"/>
        </StackPanel>
        <ListBox Grid.Row="1" ItemsSource="{Binding Categories}" SelectedItem="{Binding SelectedCategory}" DisplayMemberPath="Name"/>
        <StackPanel Orientation="Horizontal" Grid.Row="2" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="编辑" Command="{Binding EditCategoryCommand}" Width="80"/>
            <Button Content="删除" Command="{Binding DeleteCategoryCommand}" Width="80" Margin="10,0,0,0"/>
        </StackPanel>
    </Grid>
</Window>

<!--<Window x:Class="TaskManagerApp.Views.CategoryManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="分类管理" Height="400" Width="400" WindowStartupLocation="CenterOwner">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        --><!-- 添加新分类 --><!--
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10">
            <TextBox Text="{Binding NewCategoryName, UpdateSourceTrigger=PropertyChanged}" Width="200" Margin="0,0,10,0" 
                     PlaceholderText="新分类名称"/>
            <Button Content="新增" Command="{Binding AddCategoryCommand}" Width="80"/>
        </StackPanel>
        --><!-- 分类列表 DataGrid --><!--
        <DataGrid Grid.Row="1"
                  ItemsSource="{Binding Categories}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  CanUserDeleteRows="False"
                  RowEditEnding="DataGrid_RowEditEnding"
                  >
            <DataGrid.Columns>
                --><!-- 名称列，可编辑 --><!--
                <DataGridTextColumn Header="名称" Binding="{Binding Name, UpdateSourceTrigger=PropertyChanged}" Width="*"/>
                --><!-- 删除按钮列 --><!--
                <DataGridTemplateColumn Header="操作" Width="80">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="删除" 
                                    Command="{Binding DataContext.DeleteCategoryCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                    CommandParameter="{Binding}"
                                    />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>-->
